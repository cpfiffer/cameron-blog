<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;1,400;1,500&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap"
            rel="stylesheet"
        />
           <!-- Mermaid.js for diagram rendering -->
<script src="/libs/mermaid/mermaid.min.js"></script>
<style>
    .mermaid {
        text-align: center;
        margin: 1em 0;
    }
    
    /* Dark theme support for Mermaid */
    [data-theme="dark"] .mermaid {
        background: transparent;
    }
    
    /* Light theme support for Mermaid */
    [data-theme="light"] .mermaid {
        background: transparent;
    }
</style>  <link rel="stylesheet" href="/css/normalize.css" />
<link rel="stylesheet" href="/css/franklin.css" />
<link rel="stylesheet" href="/css/hypertext.css" />
<link rel="icon" href="/assets/favicon.png" />

<!-- Favicon -->
<link
    rel="apple-touch-icon"
    sizes="180x180"
    href="/assets/apple-touch-icon.png"
/>
<link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="/assets/favicon-32x32.png"
/>
<link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="/assets/favicon-16x16.png"
/>
<link rel="manifest" href="/assets/site.webmanifest" />
 
        <title>Test Mermaid Diagrams</title>
        
    </head>
    <body>
        <div class="center-column-holder">
            <div class="center-column">
                <header>
    <div class="header-nav">
        <span style="font-weight: bold">Cameron Pfiffer</span>
        <div>
            <a href="/">about</a> âˆ˜ <a href="/blog/">blog</a> âˆ˜
            <a href="/links/">links</a>
        </div>
    </div>
    <hr />
</header>

                <!-- Content appended here -->
                <button id="theme-toggle" aria-label="Toggle dark mode">
                    ðŸŒ™
                </button>
            </div>
        </div>
        <style>
            #theme-toggle {
                position: fixed;
                top: 1rem;
                right: 1rem;
                padding: 0.5rem;
                font-size: 1.25rem;
                border: none;
                background: none;
                cursor: pointer;
                z-index: 1000;
            }
        </style>
        <script>
            // Check for saved theme preference, otherwise use system preference
            const getPreferredTheme = () => {
                const savedTheme = localStorage.getItem("theme");
                if (savedTheme) {
                    return savedTheme;
                }
                return window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? "dark"
                    : "light";
            };

            // Apply theme
            const setTheme = (theme) => {
                document.documentElement.setAttribute("data-theme", theme);
                localStorage.setItem("theme", theme);
                // Update button text
                document.getElementById("theme-toggle").innerText =
                    theme === "dark" ? "â˜¼" : "â˜¾";
            };

            // Initialize theme
            setTheme(getPreferredTheme());

            // Add toggle functionality
            document
                .getElementById("theme-toggle")
                .addEventListener("click", () => {
                    const currentTheme =
                        document.documentElement.getAttribute("data-theme");
                    setTheme(currentTheme === "dark" ? "light" : "dark");
                });

            // Listen for system theme changes
            window
                .matchMedia("(prefers-color-scheme: dark)")
                .addEventListener("change", (e) => {
                    if (!localStorage.getItem("theme")) {
                        setTheme(e.matches ? "dark" : "light");
                    }
                });
        </script>
    </body>
</html>
<div class="franklin-content">
<h1 id="testing_mermaid_diagrams"><a href="#testing_mermaid_diagrams" class="header-anchor">Testing Mermaid Diagrams</a></h1>
<p>This page tests Mermaid diagram rendering.</p>
<h2 id="simple_flowchart"><a href="#simple_flowchart" class="header-anchor">Simple Flowchart</a></h2>

<div class="mermaid">
graph TD
    A[Start] --> B{Is it working?}
    B -->|Yes| C[Great!]
    B -->|No| D[Debug]
    D --> A
</div>

<h2 id="sequence_diagram"><a href="#sequence_diagram" class="header-anchor">Sequence Diagram</a></h2>

<div class="mermaid">
sequenceDiagram
    participant User
    participant Blog
    participant Mermaid
    User->>Blog: View page
    Blog->>Mermaid: Render diagram
    Mermaid->>Blog: Return SVG
    Blog->>User: Display diagram
</div>

<h2 id="pie_chart"><a href="#pie_chart" class="header-anchor">Pie Chart</a></h2>

<div class="mermaid">
pie title Languages Used
    "Julia" : 45
    "JavaScript" : 30
    "CSS" : 25
</div>

<div class="page-foot">
  Website built with
  <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the
  <a href="https://julialang.org">Julia programming language</a>.
</div>
</div><!-- CONTENT ENDS HERE -->

</div> <!-- end of center-column -->
</div> <!-- end of center-column-holder -->
    
    
    
        <!-- Mermaid.js initialization -->
<script>
    // Initialize Mermaid with theme support
    const initializeMermaid = () => {
        const theme = document.documentElement.getAttribute('data-theme') || 'light';
        
        mermaid.initialize({
            startOnLoad: true,
            theme: theme === 'dark' ? 'dark' : 'default',
            themeVariables: {
                // Additional theme customization can go here
            }
        });
    };
    
    // Initialize on page load
    document.addEventListener('DOMContentLoaded', initializeMermaid);
    
    // Re-initialize when theme changes
    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) {
        themeToggle.addEventListener('click', () => {
            // Small delay to allow theme change to complete
            setTimeout(() => {
                // Re-render all mermaid diagrams with new theme
                const mermaidDivs = document.querySelectorAll('.mermaid');
                mermaidDivs.forEach(div => {
                    const originalContent = div.getAttribute('data-original-content');
                    if (originalContent) {
                        div.innerHTML = originalContent;
                        div.removeAttribute('data-processed');
                    }
                });
                initializeMermaid();
            }, 100);
        });
    }
    
    // Store original content for theme switching
    document.addEventListener('DOMContentLoaded', () => {
        const mermaidDivs = document.querySelectorAll('.mermaid');
        mermaidDivs.forEach(div => {
            if (!div.getAttribute('data-original-content')) {
                div.setAttribute('data-original-content', div.textContent);
            }
        });
    });
</script>
    
  </body>
</html>
